{"ast":null,"code":"var _jsxFileName = \"/home/hp/monday-oauth (copy)/client/src/components/FetchInvoices.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FetchInvoices() {\n  const fetchInvoices = async () => {\n    try {\n      const response = await fetch(`http://localhost:3001/invoice`);\n      const data = await response.json();\n      const Invoices = data.invoices;\n      Invoices.forEach(async invoice => {\n        const columnValues = [];\n        columnIDs.forEach(({\n          id,\n          columnName\n        }) => {\n          columnValues.push(`\\\\\"${id}\\\\\":\\\\\"${invoice[columnName.toLowerCase().replace(/\\s/g, '')]}\\\\\"`);\n        });\n        const columnValuesString = `{${columnValues.join(',')}}`;\n        const query = `mutation {\n                create_item(\n                  board_id: ${boardId},\n                  item_name: \"Invoices\",\n                  column_values: \"${columnValuesString}\"\n                ) {\n                  id\n                }\n              }`;\n        try {\n          const response = await fetch(\"https://api.monday.com/v2\", {\n            method: \"post\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n              'Authorization': `${token}`\n            },\n            body: JSON.stringify({\n              query: query\n            })\n          });\n          const res = await response.json();\n          console.log(res);\n        } catch (error) {\n          console.error(\"Error creating invoices\", error);\n        }\n      });\n      window.alert('Invoices imported successfully!');\n    } catch (error) {\n      console.error(\"Error fetching invoices:\", error);\n      window.alert('Failed to import invoices. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"card justify-content-center align-items-center d-grid border-0 shadow\",\n      style: {\n        width: '18 rem',\n        height: '300px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card-body \",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          class: \"fw-bold mb-3 card-title \",\n          children: \"Fetch your Invoices\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchInvoices,\n          className: \" btn btn-primary\",\n          children: \"Import Invoices\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_c = FetchInvoices;\nvar _c;\n$RefreshReg$(_c, \"FetchInvoices\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","FetchInvoices","fetchInvoices","response","fetch","data","json","Invoices","invoices","forEach","invoice","columnValues","columnIDs","id","columnName","push","toLowerCase","replace","columnValuesString","join","query","boardId","method","headers","token","body","JSON","stringify","res","console","log","error","window","alert","children","class","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","onClick","className","_c","$RefreshReg$"],"sources":["/home/hp/monday-oauth (copy)/client/src/components/FetchInvoices.js"],"sourcesContent":["import React from 'react'\n\nexport default function FetchInvoices() {\n    const fetchInvoices = async () => {\n\n        try {\n          const response = await fetch(`http://localhost:3001/invoice`);\n          const data = await response.json();\n    \n          const Invoices = data.invoices;\n    \n          Invoices.forEach(async (invoice) => {\n            const columnValues = [];\n            columnIDs.forEach(({ id, columnName }) => {\n              columnValues.push(`\\\\\"${id}\\\\\":\\\\\"${invoice[columnName.toLowerCase().replace(/\\s/g, '')]}\\\\\"`);\n            });\n    \n            const columnValuesString = `{${columnValues.join(',')}}`;\n    \n            const query = `mutation {\n                create_item(\n                  board_id: ${boardId},\n                  item_name: \"Invoices\",\n                  column_values: \"${columnValuesString}\"\n                ) {\n                  id\n                }\n              }`;\n    \n            try {\n              const response = await fetch(\"https://api.monday.com/v2\", {\n                method: \"post\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  'Authorization': `${token}`,\n                },\n                body: JSON.stringify({\n                  query: query,\n                }),\n              });\n              const res = await response.json();\n              console.log(res);\n            } catch (error) {\n              console.error(\"Error creating invoices\", error);\n            }\n          });\n          window.alert('Invoices imported successfully!');\n        } catch (error) {\n          console.error(\"Error fetching invoices:\", error);\n          window.alert('Failed to import invoices. Please try again.');\n        }\n    \n      };\n  return (\n    <div>\n        <div class=\"card justify-content-center align-items-center d-grid border-0 shadow\" style={{ width: '18 rem', height: '300px' }}>\n                  <div class=\"card-body \">\n                    <h2 class=\"fw-bold mb-3 card-title \">Fetch your Invoices</h2>\n                    <button onClick={fetchInvoices} className=\" btn btn-primary\">\n                      Import Invoices\n                    </button>\n                  </div>\n                </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}